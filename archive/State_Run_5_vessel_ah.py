# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":0,"y":0,"deletable":false,"next":{"block":{"type":"variables_set_motor","id":"n*HE/[T.$QSpoy3CA^j)","fields":{"VAR":{"id":"Ny+I_r(2`/%-@v_5sbBT"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"!c}LOGXoTpNmLyVtt-Cg","fields":{"NAME":"A"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"z*.=5%800N1kn?].@elj","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"FD!#[/k2_O0/qYWJ=YHn","fields":{"VAR":{"id":"[57P@c__pNAbM}4fO.mj"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":",hjxWS|P^X}888P3bbBs","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"lAfb6N(g4HNR^:+$JXF!","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"YEQbm*ui:k3vsII1:.sM","fields":{"VAR":{"id":"eaDZPaXfI+GV6pc(l7je"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"qIz0`^0}K|t#c,a:!i2o","fields":{"NAME":"E"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"z84rQ[kwF]FvG:qJu9tv","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"Dusl`Zoyq3Fz3668E08_","fields":{"VAR":{"id":"MBXs9z@%sJ0i@DWiuWAG"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"{[vSXr4^O_,96;(,wirv","fields":{"NAME":"F"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"QF[g/Gom9D{#Rr1;w(76","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":"#b.ssSSsqMx3jZ)/9s0n","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"ccg$jE6P#x-H]oS*,^s|","fields":{"VAR":{"id":"[57P@c__pNAbM}4fO.mj","name":"left","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"[#`~|VmqQ3Wc2et/RnHg","fields":{"VAR":{"id":"Ny+I_r(2`/%-@v_5sbBT","name":"right","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"[h~QOK#kZEY@JtILj/.$","fields":{"VALUE0":81.6}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"G5eQQgYwOZttCI11E5:/","fields":{"VALUE0":110}}}},"next":{"block":{"type":"variables_setup_any","id":"`,-h^E2f/2UV=|6,XdS%","fields":{"VAR":{"id":"GPZ4hF^fLO,}n3:?aX3t"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"u.0*cv.HPM}0a{|2eO_n","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"+Z{mX!=tEOA_[}U}l]Q}","fields":{"VAR":{"id":"RpL:F[8%Dt83tHbGmk@-"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"=1LL4S*+QM%,K,O:;(;J","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_set_prime_hub","id":"5e9hrqi~=c:!!!#z|eLp","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"GiOX+RE:YJi0rlHwe^(B"}}}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":0,"y":481,"deletable":false,"next":{"block":{"type":"blockDriveBaseUseGyro","id":"g]Gipe4#$B[vGHEUyrTN","fields":{"METHOD":"DRIVEBASE_USE_GYRO_TRUE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"+)85gJ=#o0Qe.aBf9u17","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"n67Rw,+|dAbQzg%Sqjy)","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"Kv`brbjOW)}^?BBk0i2W","fields":{"VAR":{"id":"GPZ4hF^fLO,}n3:?aX3t","name":"heading","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"*9.rk7QO)MOH}.w|sbs$","fields":{"NUM":0}},"block":{"type":"blockImuGetHeading","id":"sWn-FD~gCMygQ@6XePV2","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"9yu2ES(?s7H/52MXRz=M","fields":{"VAR":{"id":"GiOX+RE:YJi0rlHwe^(B","name":"prime hub","type":"PrimeHub"}}}}}}}},"next":{"block":{"type":"blockPrint","id":"d5=|Od##o!5JAIlfdYoJ","extraState":{"optionLevel":1},"fields":{"SEP":"SEP_SPACE"},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"u3qJH{AgrnDHYKp3bsH0","fields":{"TEXT":"Initial heading is: "}}},"TEXT1":{"shadow":{"type":"text","id":"cq~J-`0oPF=*qVb~BIec","fields":{"TEXT":"abc"}},"block":{"type":"blockVariableGetValue","id":"n6hLqUlO@h:qcJQHx8l6","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"*5ptaY$6Q(v`~6!~RLGJ","fields":{"VAR":{"id":"GPZ4hF^fLO,}n3:?aX3t","name":"heading","type":"Any"}}}}}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"Q#]/2P.O0,@ZC3i!@}+~","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"TSbNyixds;/t1zC*ckrg","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"o{~Av8[_c4%]v@z(M2tp","fields":{"VALUE0":60}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"X{Z8beozX!O{c)aaH?g2","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"LiO`V,aKIriZp+7~I?Hh","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"b?jrK~Y|Ly+k69zk!H/H","fields":{"VALUE0":-64}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"t4UqT{5fs_|Ez2.(jDX[","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"F-R4I!W-:V/g]{7H@/O*","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"=2#Z/6`@4tYwOj][s:mD","fields":{"VAR":{"id":"eaDZPaXfI+GV6pc(l7je","name":"front","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"+,C]Z@ZC@*W*!JwASHk8","fields":{"VALUE0":100}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"LbWQ3?k55UYt1gp2+!Q3","fields":{"VALUE0":-65}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"Ea1pD-r#ZpHvu/wD;_h~","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"+i?.6)bM5biXkcio]J4P","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"fz)o..goOZ-~~uSOn!;P","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"w/+i[P}#X%6Z$kpy@ljE","fields":{"VALUE0":500}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":",uc{jQ-1s3i_THUhH^AK","extraState":{"optionLevel":4},"fields":{"METHOD":"DRIVEBASE_DRIVE_CURVE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"p4u+k$tbRtG6U+dyE~xm","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"?!-}+26U^wP?D(oWDcv-","fields":{"VALUE0":93.5}}},"ARG1":{"shadow":{"type":"unit_angle","id":"(u_23}^xS:pnHG%3(8sd","fields":{"VALUE0":180}}},"ARG2":{"shadow":{"type":"parameters_stop_4","id":"-R%uk12[AWS(Pm_~iti.","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockVariableSetValue","id":"|F;NKc`fDNLYz:{XXPS+","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":";olvff,)}*8As=UYi[GC","fields":{"VAR":{"id":"GPZ4hF^fLO,}n3:?aX3t","name":"heading","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"*9.rk7QO)MOH}.w|sbs$","fields":{"NUM":0}},"block":{"type":"blockImuGetHeading","id":"vpe4b^;uV@Rx{TAWU/?8","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"Q?Rs3vI3R98.U7H#}OzR","fields":{"VAR":{"id":"GiOX+RE:YJi0rlHwe^(B","name":"prime hub","type":"PrimeHub"}}}}}}}},"next":{"block":{"type":"blockPrint","id":"Hqk]B-,W;n9(Yku(jNBs","extraState":{"optionLevel":1},"fields":{"SEP":"SEP_SPACE"},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"X$D@*N5:7R94dqwiEC`)","fields":{"TEXT":"After first U-turn, the heading is: "}}},"TEXT1":{"shadow":{"type":"text","id":"cq~J-`0oPF=*qVb~BIec","fields":{"TEXT":"abc"}},"block":{"type":"blockVariableGetValue","id":"TB*@.Bw{G~CxSfH=5*fr","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"!Yw8|y?0rYY=OI((nCzg","fields":{"VAR":{"id":"GPZ4hF^fLO,}n3:?aX3t","name":"heading","type":"Any"}}}}}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"P(=f@,TEN{^sOW`}L1}2","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"0E:)#@cMS5EfGU4p_bv]"}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"UGWn2fG?;LulJM5=%`^9","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"e6GOukZgBHN{T*9sv?N9"}},"next":{"block":{"type":"blockComment","id":"qpy/Wh7Rw!:7amhz6e(F","fields":{"FIELDNAME":"was -370"},"next":{"block":{"type":"blockDriveBaseDrive","id":"gi6t/8#PU^f=_R`Mfm?t","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"=tIcg]@6J:5A3APgLn)B","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"6A0-[aOEx?FYVVfNERB0","fields":{"VALUE0":-370}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"b|1Q|[vAr[o`SS#W04w8","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"d3W2U4i[+LOQZEL3(*5h","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"rnmW)nTQ2?6NkHkzz}]Z"}},"next":{"block":{"type":"blockFunctionCallerStatement","id":":gN3z!0-=:F]}Qh9@K+d","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":")~KQSlAmSD67bXt1s2}%"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"AXhvV~^v6L7@C=ly6^1u","x":0,"y":3319,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"rnmW)nTQ2?6NkHkzz}]Z"}},"inputs":{"STACK":{"block":{"type":"blockVariableSetValue","id":"G~D^*;,2/%vNRG1p._j8","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"AV5u2}l(,xSA](O*lMB|","fields":{"VAR":{"id":"RpL:F[8%Dt83tHbGmk@-","name":"back_angle","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"@+o$}%5r:zU~=gj$0i[%","fields":{"NUM":417}}}},"next":{"block":{"type":"blockMotorRun","id":"{r@nXhCy{eksETKv7!?@","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"axPqeH*F,CkZN5CM_/.~","fields":{"VAR":{"id":"MBXs9z@%sJ0i@DWiuWAG","name":"back","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"I6*ZTLd!n(o6ncab!O9V","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"8I^8YD1{B=#^O#k#+FP.","fields":{"VALUE0":0}},"block":{"type":"blockVariableGetValue","id":"N]c:/6ghC%e[t~BzU`=i","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"9t+_#~d47coxs..TG}6b","fields":{"VAR":{"id":"RpL:F[8%Dt83tHbGmk@-","name":"back_angle","type":"Any"}}}}}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"e_`9-b6o.V$k1$3a(28g","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFlowRepeat","id":"ji%Si$W-H9@qH:?`:8!+","inputs":{"TIMES":{"shadow":{"type":"blockMathNumber","id":"#UHrm3|hA(r//hN(Vn5O","fields":{"NUM":11}}},"DO":{"block":{"type":"blockMultiTask","id":"*C0txym6xG~QM4g?w5CJ","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockDriveBaseDrive","id":"-8S@6^o^I5%V2K^Ml@Xn","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":".`]Cf{xSxC{-8LHrfs:z","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"=@}]mRVJ=nasRK*rkApy","fields":{"VALUE0":22}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"k7Mx)-f#+{P5$)fJ]]3u","fields":{"VALUE":"Stop.HOLD"}}}}}},"TASK1":{"block":{"type":"blockMotorRun","id":")HH0;HnI%E?V-!TFI=|=","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"x*F6(/_s{v~^(@QboQcE","fields":{"VAR":{"id":"MBXs9z@%sJ0i@DWiuWAG","name":"back","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"rwmK#)0+Bfa+4UdEkLAo","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"zU/$~QCv+BdHAdpv~6`Y","fields":{"VALUE0":-60}},"block":{"type":"blockMathOp","id":"vYgDef`vXhaL)}+L*yO/","extraState":{"optionLevel":0},"fields":{"OP":"NEG"},"inputs":{"NUM":{"shadow":{"type":"blockMathNumber","id":"{*~p0GVaj/I_,3uj}|a/","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"Ko=Hwxw-~[j_.o$ANF(V","fields":{"OP":"DIVIDE"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"hg07OLoGB(Vu[rB@|_GH","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"U?0k_wL+8vp%ga5L*G[a","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"RC9%#GJXjKnoEtW)R+A{","fields":{"VAR":{"id":"RpL:F[8%Dt83tHbGmk@-","name":"back_angle","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"R$E]BmQ~MkXcyiTMDPy;","fields":{"NUM":10}}}}}}}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"^oo~P:kt{u[lswn3!huj","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}},"next":{"block":{"type":"blockWaitTime","id":"y%^KTU@3x,M+Nj49EFub","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"}D:nl6L:7GO=nt8_[5P$","fields":{"VALUE0":1000}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"-~%c;j^SCiTq0lK%a@QJ","x":0,"y":1326,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"0E:)#@cMS5EfGU4p_bv]"}},"inputs":{"STACK":{"block":{"type":"blockDriveBaseDrive","id":"1@X1ffRPM=cL53++!j9X","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"9r(O*cdWy.)_XbM)gjAy","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"#;Pni,Y/bEOsEQ,(WTVc","fields":{"VALUE0":-10}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"LVjIe[@4V3k:3~6d_iu{","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"Hp.2j6/eIa{_u/_iCiz`","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"WXy,aS%BCU{#5Eh)6:F^","fields":{"VAR":{"id":"eaDZPaXfI+GV6pc(l7je","name":"front","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"z/:tY2MQ5hKJZ^2{8g:?","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":")I}a5Yd0PJyS*X$u-C8J","fields":{"VALUE0":60}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"dF7rvF1eFfc/asQBes/H","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"DOevMCli%_m/LE9o@`[K","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"2CQg-F=0-`hT4G-|=95N","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"[O/oi:*UH+[9}oUteYcv","fields":{"VALUE0":380}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"xVsI7UG?n~tMfJqFmiUY","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"Q`CH!7#B*~{c$zxDL+%7","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"JYu~Sy4[JB#NU,DAxcMD","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"2tGEl@#7X-Ap43uIYW}y","fields":{"VALUE0":-20}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"1Q!ZKl9|HA5EDb)Li(;U","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"@,CV5r^rwlbDl1{(`t=u","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"h*(./YA%YZFbJ2LKo/SC","fields":{"VAR":{"id":"eaDZPaXfI+GV6pc(l7je","name":"front","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"yn^ayOv4|x0=@toxeikp","fields":{"VALUE0":450}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"TYaO6+v:F}0=3Q:/5;]y","fields":{"VALUE0":-120}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"$0!l[y#hNf)kL^D^|=u*","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockWaitTime","id":"zjx3Fe%*0+6oz;q-a#2]","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"*TP)kOdlrU$|9YEo;hGe","fields":{"VALUE0":400}}}},"next":{"block":{"type":"blockMotorRun","id":"3`X+y?;lAFQ=CY;_8IPZ","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"|j}Se3ywKe-crjs9UBCP","fields":{"VAR":{"id":"eaDZPaXfI+GV6pc(l7je","name":"front","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"^e/0DrOEVc5)6O?MCFm-","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"Y4$,1PJ0!BG4l7udZ;Vh","fields":{"VALUE0":120}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"[gAYmW2q49s!E2W]?jhh","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"`=CFGP2XCv!f)ftOf_[h","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"!U]u%aCix38hhRh+JIE-","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"JKnkneoK6JG=%0W6x0l#","fields":{"VALUE0":88.9}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"?-ZBsou*G?IrSu/;/2Ak","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"aB!+0fg,,21~P0?K*s$=","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"u`J|PUe?=Z(ymXXFyZfh","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"k@Wwp+8:r;XS.|T.:kcc","fields":{"VALUE0":20}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"Olc@/mt@)%qoaL0jTe*+","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"|FOLwt|DvrtE~)S(q]9l","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"y*k.2du;/jnK(AWZ*%pJ","fields":{"VAR":{"id":"eaDZPaXfI+GV6pc(l7je","name":"front","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"~]~5SD=j^cE9txPC-|Qd","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"gJkr1V-%16qQY9CCvHo1","fields":{"VALUE0":-30}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"ijg;t;YQO@$4JbLpA=$1","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"8I{R}zwuJPDIk3Lkc/(*","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"@)(/A:Q*Mtr=#pEF;2{O","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"jRlRXIKyh_4c-$%V}~PV","fields":{"VALUE0":20}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"]:WnL1V9g*ilGh[0]X~3","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":"+];4)ZHUF]+Kb$iwIJU|","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":",OjMi^DkDNyzq/^y:T*i","fields":{"VAR":{"id":"eaDZPaXfI+GV6pc(l7je","name":"front","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"~t@Vhzg-noCA7{rXd1e;","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"dr)mAq@{V~-rVTnQznax","fields":{"VALUE0":-30}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"DhEJ!hcN2]jr0C6L9)a*","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"?1_g:lpsts`VcgN9/x2B","x":0,"y":2064,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"e6GOukZgBHN{T*9sv?N9"}},"inputs":{"STACK":{"block":{"type":"blockDriveBaseConfigure","id":".u}IOOc;pY4foYXKxWc@","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Aj,g^:l::0*$FOz8=gbm","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"F8s5$.Y-l6od`c5A,uX,","fields":{"VALUE0":500}}}},"next":{"block":{"type":"blockVariableSetValue","id":"V1mgAKx%|L4Ku.^,@^yo","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"$}Ky,MSJMWf~LiTpaRMb","fields":{"VAR":{"id":"GPZ4hF^fLO,}n3:?aX3t","name":"heading","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"*9.rk7QO)MOH}.w|sbs$","fields":{"NUM":0}},"block":{"type":"blockImuGetHeading","id":"/)t%vx{#ecsf@W~lo86a","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"m0_v+jz*XqhdNyu?t#A5","fields":{"VAR":{"id":"GiOX+RE:YJi0rlHwe^(B","name":"prime hub","type":"PrimeHub"}}}}}}}},"next":{"block":{"type":"blockPrint","id":"OUGT8h]*QQ!6WD}uPB8,","extraState":{"optionLevel":1},"fields":{"SEP":"SEP_SPACE"},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"8^7^^#.)$MzTw[._{/n$","fields":{"TEXT":"Before the U-turn, the heading is: "}}},"TEXT1":{"shadow":{"type":"text","id":"cq~J-`0oPF=*qVb~BIec","fields":{"TEXT":"abc"}},"block":{"type":"blockVariableGetValue","id":"uP~%PIr{cl!hgwawBubq","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"PvKC=!RUDOw2hOT|y%ET","fields":{"VAR":{"id":"GPZ4hF^fLO,}n3:?aX3t","name":"heading","type":"Any"}}}}}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":";Q=`9blV_@BF3!Eg(@0=","extraState":{"optionLevel":4},"fields":{"METHOD":"DRIVEBASE_DRIVE_CURVE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"M3,_,TzWLcCUfDK[NIoM","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"D}=s!(Vg5xe;49VnW(N,","fields":{"VALUE0":-100}}},"ARG1":{"shadow":{"type":"unit_angle","id":"qtJMKb/mfi?{ba!8El-/","fields":{"VALUE0":182}},"block":{"type":"blockVariableGetValue","id":"YTXffU1ySrLjML%SX?C2","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"TUj@@:R?~h)RHiEOp;=Q","fields":{"VAR":{"id":"GPZ4hF^fLO,}n3:?aX3t","name":"heading","type":"Any"}}}}}}},"ARG2":{"shadow":{"type":"parameters_stop_4","id":"5HdbkABwYK!P^PjH0?7=","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockVariableSetValue","id":"RW^-6[bOJh/_4q$jWx@i","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"%zMr?=|`fi5,%NBt@d1*","fields":{"VAR":{"id":"GPZ4hF^fLO,}n3:?aX3t","name":"heading","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"*9.rk7QO)MOH}.w|sbs$","fields":{"NUM":0}},"block":{"type":"blockImuGetHeading","id":"sy*%iqSe7op;x0r}rIA9","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"E4qF=An6L?cW|WgPOa%]","fields":{"VAR":{"id":"GiOX+RE:YJi0rlHwe^(B","name":"prime hub","type":"PrimeHub"}}}}}}}},"next":{"block":{"type":"blockPrint","id":"si^b6yZ3uId[Dz3PbVy9","extraState":{"optionLevel":1},"fields":{"SEP":"SEP_SPACE"},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"O0q=3gY,E!DDZFibX.rk","fields":{"TEXT":"After the U-turn, the heading is: "}}},"TEXT1":{"shadow":{"type":"text","id":"cq~J-`0oPF=*qVb~BIec","fields":{"TEXT":"abc"}},"block":{"type":"blockVariableGetValue","id":"X_.tPBW1RiynZZ+;YC{K","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"4qVX!B5N1v21Lz2`Dghu","fields":{"VAR":{"id":"GPZ4hF^fLO,}n3:?aX3t","name":"heading","type":"Any"}}}}}}}},"next":{"block":{"type":"blockIfElse","id":"Rkk`BfAk~7,D}1b4Uju:","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"?TAwh?Z_%!nL#euY7#i4"},"block":{"type":"blockLogicCompare","id":"f:c0.6?A8Av]Xq9m|WdZ","fields":{"OP1":"GT"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"7avx{}@9NKU,#VIPyw4~","fields":{"NUM":3}},"block":{"type":"blockMathOp","id":"#,i^`u|Z.jQS9s2YhPGU","extraState":{"optionLevel":0},"fields":{"OP":"ABS"},"inputs":{"NUM":{"shadow":{"type":"blockMathNumber","id":")0FRM_y}Ex}iP?9C0Emc","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"KlW[b(rq`I]k,EfWC8VN","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"DoK{hW_CmY*d}*;}^MPY","fields":{"VAR":{"id":"GPZ4hF^fLO,}n3:?aX3t","name":"heading","type":"Any"}}}}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"7OK[xa:YMD+[ccDFz?QW","fields":{"NUM":3}}}}}},"DO0":{"block":{"type":"blockDriveBaseDrive","id":"b)ndCyh1}!,mow/ZT}HO","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"*69_i0ZN9u~?;HS{o3j{","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"66,ALN%r;0Q4rb{frG8W","fields":{"VALUE0":90}},"block":{"type":"blockMathArithmetic","id":"!]5^p!zJrAm/D9EKj7o$","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"Hdz|tKU+x5)zNVCH$5,[","fields":{"NUM":0}}},"B":{"shadow":{"type":"blockMathNumber","id":"re{NJ!|_aQ|2z,RHk(Kw","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"(/mMg_T:Vu^H=bK=r.Pc","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"Q%.G$kRGlrkEaBAb1qG,","fields":{"VAR":{"id":"GPZ4hF^fLO,}n3:?aX3t","name":"heading","type":"Any"}}}}}}}}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"D8zX(+j/ND3Bn)ww^@Ag","fields":{"VALUE":"Stop.HOLD"}}}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"P{D%IZXZT?bGN}!~xv8u","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"ZW!ku/^zrKg8b}{7t0r}","fields":{"VAR":{"id":"GPZ4hF^fLO,}n3:?aX3t","name":"heading","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"*9.rk7QO)MOH}.w|sbs$","fields":{"NUM":0}},"block":{"type":"blockImuGetHeading","id":"-{OO-7ZacNls1Z?rB2Pq","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"$ldR(~T+B`Ek#RiUm7rW","fields":{"VAR":{"id":"GiOX+RE:YJi0rlHwe^(B","name":"prime hub","type":"PrimeHub"}}}}}}}},"next":{"block":{"type":"blockPrint","id":"zh3F_egT%;,,*iGX+Wjj","extraState":{"optionLevel":1},"fields":{"SEP":"SEP_SPACE"},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"Nq;J2M=]70n|u%8o{IZ-","fields":{"TEXT":"After correction, the heading is:"}}},"TEXT1":{"shadow":{"type":"text","id":"cq~J-`0oPF=*qVb~BIec","fields":{"TEXT":"abc"}},"block":{"type":"blockVariableGetValue","id":"vAAP%[Zhb{2M}PT15^b+","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"~+mY$n6*x*8H;C6C4biV","fields":{"VAR":{"id":"GPZ4hF^fLO,}n3:?aX3t","name":"heading","type":"Any"}}}}}}}},"next":{"block":{"type":"blockWaitTime","id":"Mydr*Oy[awL6LQF=Nhak","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"$v/gg7lR}l9DNU,S89ky","fields":{"VALUE0":400}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"j7^nT-/hYCT$/W,*Q]@_","x":0,"y":2735,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":")~KQSlAmSD67bXt1s2}%"}},"inputs":{"STACK":{"block":{"type":"blockDriveBaseDrive","id":"%{1N*p]GZ~)FHbB3^OyQ","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"@Z}|[Ek|g`M0X92e[9oY","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"r%1%b:N~hnr]eLo}^,y3","fields":{"VALUE0":100}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"E%+.rZ2Pbk.pfF+Fl1=U","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"/(IS@GvzX!_psZoF!Y+V","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"[TfC4rVZRhV7o*yTl*3_","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"!b)aT$A//lk%}.63^RYC","fields":{"VALUE0":50}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"i:YmTn1*70g7XR[wTEeB","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"n`oL|]R=}NTl.1l;tu4)","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"=WD==n7oNi$`b(8fR;8m","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"*3P.Hdi^hDhj)sv`Q4Z!","fields":{"VALUE0":250}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"%b~WM(4gS4x%`FRhmpcg","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"spRc5(a[Zs+#lO!cL)5x","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"47E{5o(}a]HG`VM1^Jrs","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"CG@n0r)Zx(]p:q=.8]91","fields":{"VALUE0":-60}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"APVUIz/[5l=$-d9aqV4!","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":")PuAdsB|8HgBs$-wh]:_","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"VUu_w4?5M~p-wc:v$SgH","fields":{"VAR":{"id":"eaDZPaXfI+GV6pc(l7je","name":"front","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"CiKuTl?T6Lb1xi@)wIPd","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":";l~@Il;8_1T__{r4RF%u","fields":{"VALUE0":37.73}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"B(_**tGwG98?,W20MfS2","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"DVyGKO9hfAwCSR||8!Ef","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"-aNx;t#~78[!7tWwdFpw","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"yw!h!f0=K=}B9HHF:@c%","fields":{"VALUE0":1000}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"Bt@0N)}d5i,P!v@i!7:7","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Bc`jjl4T3=K;[})YLpK;","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"Y-T2GcrA@$wZ9Ut$ysgz","fields":{"VALUE0":-870}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"i#D3$,N??xVhYTRqM18!","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"VE))ZqA0]c(d~@,bnon!","extraState":{"optionLevel":4},"fields":{"METHOD":"DRIVEBASE_DRIVE_CURVE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"kwYgbT3LZ^vDjvIlAI7E","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"4,=Bc0]t=CwQ7[OPZ%ls","fields":{"VALUE0":-250}}},"ARG1":{"shadow":{"type":"unit_angle","id":"qCxDMroof4do(WYcd`Yd","fields":{"VALUE0":-90}}},"ARG2":{"shadow":{"type":"parameters_stop_4","id":"J|?FT~*Xq8*Tm[~-25_T","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"SO{]K*{)(=k^6v$_99VU","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Llr@I0@3dkg_S+e+X@1V","fields":{"VAR":{"id":"uB[i+7MH0(O[5i9M#piI","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":";75qy_10K-NZ^%$tTR!/","fields":{"VALUE0":-90}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"Qi}?$wS~`8G$C^FvwTeg","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}}}}}}}}}}}}}}}]},"variables":[{"name":"drive base","id":"uB[i+7MH0(O[5i9M#piI","type":"DriveBase"},{"name":"prime hub","id":"GiOX+RE:YJi0rlHwe^(B","type":"PrimeHub"},{"name":"red","id":"vBIq=4RV;R6!~i}+R9jV","type":"ColorDef"},{"name":"orange","id":".O:DcpV%+CpX.++;;cE(","type":"ColorDef"},{"name":"yellow","id":"4SqZYIrNo?PWUYJJoCB7","type":"ColorDef"},{"name":"green","id":"5ye#Y.*NQPMfC@:rd[eP","type":"ColorDef"},{"name":"cyan","id":"6w:HE$[*#pIG1/O@uH@K","type":"ColorDef"},{"name":"blue","id":"l^bDNFjAmnQE~]vg!6H9","type":"ColorDef"},{"name":"violet","id":"].7(sf3^JoKW9mN^Ka[l","type":"ColorDef"},{"name":"magenta","id":"U33SF,Qhc1?DE,?1B~PJ","type":"ColorDef"},{"name":"white","id":"*ib~?w][m^I;gMHc@P#d","type":"ColorDef"},{"name":"none","id":"L$9{Qp/@WaOZ.P`A|^cs","type":"ColorDef"},{"name":"heading","id":"GPZ4hF^fLO,}n3:?aX3t","type":"Any"},{"name":"back_angle","id":"RpL:F[8%Dt83tHbGmk@-","type":"Any"},{"name":"artificial_habitat_30pts","id":"rnmW)nTQ2?6NkHkzz}]Z","type":"Function"},{"name":"drag_vessel","id":"0E:)#@cMS5EfGU4p_bv]","type":"Function"},{"name":"second_uturn","id":"e6GOukZgBHN{T*9sv?N9","type":"Function"},{"name":"return_right_home","id":")~KQSlAmSD67bXt1s2}%","type":"Function"},{"name":"right","id":"Ny+I_r(2`/%-@v_5sbBT","type":"Motor"},{"name":"left","id":"[57P@c__pNAbM}4fO.mj","type":"Motor"},{"name":"front","id":"eaDZPaXfI+GV6pc(l7je","type":"Motor"},{"name":"back","id":"MBXs9z@%sJ0i@DWiuWAG","type":"Motor"},{"name":"motor","id":"!@G@+B(Vl3cR9*MPZc4.","type":"Motor"}],"info":{"type":"pybricks","version":"1.2.3"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Direction, Port, Stop
from pybricks.pupdevices import Motor
from pybricks.robotics import DriveBase
from pybricks.tools import multitask, run_task, wait

# Set up all devices.
prime_hub = PrimeHub()
right = Motor(Port.A, Direction.CLOCKWISE)
left = Motor(Port.B, Direction.COUNTERCLOCKWISE)
front = Motor(Port.E, Direction.CLOCKWISE)
back = Motor(Port.F, Direction.COUNTERCLOCKWISE)
drive_base = DriveBase(left, right, 81.6, 110)

# Initialize variables.
heading = 0
back_angle = 0

async def drag_vessel():
    await wait(1)
    await drive_base.straight(-10)
    await front.run_angle(500, 60)
    await drive_base.straight(380)
    await drive_base.straight(-20)
    await front.run_angle(450, -120)
    await wait(400)
    await front.run_angle(500, 120)
    await drive_base.straight(88.9)
    await drive_base.turn(20)
    await front.run_angle(500, -30)
    await drive_base.straight(20)
    await front.run_angle(500, -30)

async def second_uturn():
    global heading
    await wait(1)
    drive_base.settings(straight_speed=500)
    heading = prime_hub.imu.heading()
    print('Before the U-turn, the heading is: ', heading)
    await drive_base.curve(-100, heading)
    heading = prime_hub.imu.heading()
    print('After the U-turn, the heading is: ', heading)
    if abs(heading) > 3:
        await drive_base.turn(0 - heading)
    heading = prime_hub.imu.heading()
    print('After correction, the heading is:', heading)
    await wait(400)

async def return_right_home():
    await wait(1)
    await drive_base.straight(100)
    await drive_base.turn(50)
    await drive_base.straight(250)
    await drive_base.turn(-60)
    await front.run_angle(500, 37.73)
    drive_base.settings(straight_speed=1000)
    await drive_base.straight(-870)
    await drive_base.curve(-250, -90)
    await drive_base.turn(-90)

async def artificial_habitat_30pts():
    global back_angle
    await wait(1)
    back_angle = 417
    await back.run_angle(500, back_angle)
    for count in range(11):
        await wait(1)
        await multitask(drive_base.straight(22), back.run_angle(500, -(back_angle / 10)))
    await wait(1000)

async def main():
    global heading
    drive_base.use_gyro(True)
    heading = prime_hub.imu.heading()
    print('Initial heading is: ', heading)
    drive_base.settings(straight_speed=60)
    await drive_base.straight(-64)
    await front.run_angle(100, -65)
    drive_base.settings(straight_speed=500)
    await drive_base.curve(93.5, 180)
    heading = prime_hub.imu.heading()
    print('After first U-turn, the heading is: ', heading)
    await drag_vessel()
    await second_uturn()
    # was -370
    await drive_base.straight(-370)
    await artificial_habitat_30pts()
    await return_right_home()


run_task(main())
